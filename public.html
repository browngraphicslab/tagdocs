<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/public.css">
    <script src="js/jquery-1.11.0.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=css&amp;skin=sons-of-obsidian"></script>
    <script src="js/docs.js"></script>
  </head>
  <title>TAG Setup Guide</title>
  <body>
    <div class="background"></div>
    <!-- navigation-->
    <div class="menu">
      <div class="logo"><img width="110" height="54" src="./images/2.jpg"></div>
      <div class="tag"><a id="tagTitle" href="#nav_hr_start">TAG User Reference</a></div>
      <ul id="navbar" class="sections">
        <li><a id="link_setup" dest="#nav_hr_setup" class="separator_link">SETTING UP</a></li>
        <li><a id="link_dev" dest="#nav_hr_tutorials" class="separator_link">FAQS</a></li>
        <li><a id="link_links" dest="#nav_hr_features" class="separator_link">PLANNED FEATURES</a></li>
      </ul>
    </div>
    <!-- content-->
    <div class="container">
      <!-- --------------------------------- WELCOME PAGE --------------------------------- //-->
        <header id="nav_hr_start">Welcome!</header>
      <p>
        Welcome to the Touch Art Gallery Setup guide. If you are interested in 
        embedding the TAG web app, using the TAG authoring mode, troubleshooting, or installing
        a TAG server, you are in the right place! The content here is meant to be easy to follow;
        if you find something confusing or incorrect, we would appreciate any feedback at&nbsp;<a href="mailto:brown.touchartgallery@outlook.com">brown.touchartgallery@outlook.com</a>. There is also a list of features under active development at the bottom, which
        may be useful if you are contemplating using Touch Art Gallery. If you have any
        ideas for new features, or if you have noticed any erratic functionality, please email
        us; we would love to hear from you!
      </p><br><img width="500" height="300" src="./images/splashScreen.png">
      <hr id="nav_hr_setup">
      <!-- --------------------------------- WIN 8 APP SETUP --------------------------------- //-->
        <header id="header_win8setup">Windows 8/8.1 Application Setup</header>The TAG Windows app is available in the Windows App Store&nbsp;<a href="http://apps.microsoft.com/windows/en-US/app/e7176994-b05f-430e-80ca-57b53e89b712" target="_blank">here</a>. If you are using a Windows 8/8.1 machine, you should be able to install directly from there.<br><br>By default, TAG connects to the Brown Graphics Lab demo server, which has a selection of demo
      content to explore. To explore content on another server, please see the next section.
      <!-- ------------------------------- TAG SERVERS ------------------------------------- //-->
        <header id="header_tagservers">TAG servers available for browsing</header><br>
      <div id="tagservers">
          <div class="serverName">TAG demo server</div>
          <div class="serverAddress">browntagserver.com</div>
          <div class="status"></div>
          <div class="pingMessage">pinging...</div><br><br>
          <div class="serverName">Seattle Art Museum</div>
          <div class="serverAddress">tag.seattleartmuseum.org</div>
          <div class="status"></div>
          <div class="pingMessage">pinging...</div><br><br>
      </div>
      <p>
        To browse the contents of one of these servers, you can use the change servers by entering 
		the corresponding server address (e.g."browntagserver.com") given above in the change server input box.<br><br>
          <div class="captionedImgContainer"><a href="images/public_img1.png" target="_blank"><img src="images/public_img1.png" alt="Sorry, image failed to load!" class="pageImg"></a>
            <div class="captionedImgCaption">start page, change server input box indicated</div>
          </div>
      </p>
      <!-- -------------------------------- WEB APP SETUP ------------------------------------ //-->
        <header id="header_webappsetup">Web Application Setup</header>The&nbsp;<a href="http://cs.brown.edu/research/ptc/tag/webapp.html" target="_blank">TAG web application</a>&nbsp;is available for download and can be embedded in an existing site using the instructions below.
      <ol>
        <li>Download the source&nbsp;<a href="files/TAG_WebApp.zip">here</a></li>
        <li>
          Uncompress the downloaded .zip file. This may happen automatically after you download and
          click on the file, or you may need to right-click on the file in the finder or file explorer
        </li>
        <li>
          Move the resulting TAG directory to the desired location within your site, say
          "webroot/a/b/TAG_WebApp"
        </li>
        <li>
          Make sure the TAG directory and its contents have the proper permissions. Directories
          should be world-executable (e.g., "chmod 755"), and files should be world-readable (e.g., "chmod 644").
        </li>
        <li>In your site (webroot/site.html), include the TAG/TAG-embed.js script:<br>
          <pre class="prettyprint lang-html">&lt;script src='./a/b/TAG/TAG-embed.js'&gt;&lt;/script&gt;</pre>
        </li>
        <li>
          Also in your site, set up a div in which you would like to embed TAG. As an example, you can
          take a look at TAG/demo.html, which sets up a div with id "tagContainer":<br>
          <pre class="prettyprint lang-html">&lt;div id='tagContainer'
     style='margin-left:100px;margin-top:50px;'&gt;
&lt;/div&gt;</pre>
        </li>
        <li>
          You can now use the "TAG" function in your site. As an example, you can take a look at TAG/demo.html.
          A snippet from this file is below for reference:<br>
          <pre class="prettyprint lang-html">&lt;script src='TAG-embed.js'&gt;&lt;/script&gt;
&lt;script&gt;
    window.onload = load;
    
    function load() {
    
        TAG({
            path: '',
            containerId: 'tagContainer',
            serverIp: 'browntagserver.com',
            width: '1000px',
            height: '500px'
        });
        
    }
&lt;/script&gt;
</pre>
        </li>
      </ol>The TAG web app is designed to be embedded in your site with minimal interference to the
      rest of the page.<br><br>You can customize your TAG web app embedding with the following options, which can be
      specified in the call to TAG as above:<br><br>
      <h4>path (default = "")</h4>The relative path to the TAG directory from your site. For example, following the setup in the
      instructions above, where TAG resides in the webroot/a/b directory and the site resides at
      webroot/site.html, you should specify:
      <pre class="prettyprint">path: 'a/b/TAG_WebApp'</pre><br>
      <h4>containerId (default = "tagContainer")</h4>The ID of the div in which you would like to embed TAG. For example, above, we explicitly specify:
      <pre class="prettyprint">containerId: 'tagContainer'</pre><br>
      <h4>serverIp (default = "browntagserver.com")</h4>The ip address of the TAG server to which you would like your embedding to connect. The default is
      the TAG demo content server. To connect to the Seattle Art Museum's server, for example, you could
      specify:
      <pre class="prettyprint">serverIp: 'tag.seattleartmusem.org'</pre><br>
      <h4>width (default = width of containing div or "740px")</h4>The desired width of the TAG embedding in pixels. It defaults to the width of the containing
      div (if specified) or "740px" if the containing div doesn't have a specified width. Note that
      TAG will always have a 16:9 aspect ratio no matter the specified dimensions; it will fill as
      much space as possible under the aspect ratio, height, and width constraints. Example:
      <pre class="prettyprint">width: "1000px"</pre><br>
      <h4>height (default = height of containing div or "460px")</h4>The desired height of the TAG embedding in pixels. It defaults to the height of the containing
      div (if specified) or "460px" if the containing div doesn't have a specified height. Note that
      TAG will always have a 16:9 aspect ratio no matter the specified dimensions; it will fill as
      much space as possible under the aspect ratio, height, and width constraints. Example:
      <pre class="prettyprint">height: "500px"</pre><br>
      <h4>hiddenCollections (default = [])</h4>An array of IDs for collections you would like to hide in this embedding. This may be helpful
      if you have several collections published on a server but only one or two of them are relevant
      to a particular site. The IDs can be obtained by navigating to the collections tab in the authoring
      mode; an ID is listed at the bottom of the right-most column when your collection is selected.
      Example:
      <pre class="prettyprint">hiddenCollections: [
    'e53b2104-7a2b-432e-81c8-31a14f00f9ce'
] // hides "Getty Museum Collection" on TAG demo server</pre><br>
      <h4>idleDuration (default = 0)</h4>If specified and non-zero, this controls the length of a timer (in milliseconds) that will reset
      TAG to the collections page if no meaningful interaction has been detected. Example:
      <pre class="prettyprint">idleDuration: 120000 // two minutes</pre><br>
      <h4>interpretURLParams (default = true)</h4>If true, TAG users can effectively link to certain pages in your embedding by supplying some
      extra query parameters in your site's URL. This is enabled by default. Example:
      <pre class="prettyprint">interpretURLParams: false // disable linking</pre><br>
      <h4>urlToLoad (default = '')</h4>If specified, TAG will parse this URL as if it were given as the URL of your page and
      the interpretURLParams option were set to true. This allows you to start TAG to a specific
      page (e.g., the tour player with a particular tour playing) by default when users visit
      your site with its normal URL. You can obtain one of these URLs by clicking on one of several
      "link" buttons throughout the web app. Specifying this option overrides an interpretURLParams=false
      value. Example:
      <pre class="prettyprint">urlToLoad: 'http://localhost:8888/tag2/TAG/embeddingDemo.html \
             #tagpagename=tour&tagguid=3a4e3a92-3048-48b8-88a2- \
             b22b821766ff&tagonlytour=false&tagserver= \
             browntagserver.com'
             </pre>
      <!-- -------------------------------- TAG SERVER SETUP ---------------------------------- //-->
        <header id="header_serversetup">TAG Server Setup</header>Here are some notes on&nbsp;<a href="files/Installing your own TAG Server.pdf" target="_blank">setting up the necessary SQL Server software</a> and installing the TAG Server application. Please download the current version of the TAG server application here:&nbsp<a href="http://cs.brown.edu/research/ptc/tag/tagsetup.exe">server installer</a>.
      <hr id="nav_hr_tutorials">
      <!-- ------------------------------- KIOSK TUTORIAL ----------------------------------- //-->
      <!-- ------------------------------ TOUR AUTHORING TUTORIAL --------------------------- //-->
        <h2 id="header_faqcreatingcollections">Authoring: How do I add artworks to a collection?</h2>Tap on the "Collections" tab on the left column, select your collection in the middle column, and in the
      right column below the preview window, you'll see a button that says "Manage Collection." You can tap on
      this to choose artworks to include in the collection. If your collection has not yet been created, the "New"
      button at the top of the middle column will create a new collection.
        <h2 id="header_faqaddingassocmedia">Authoring: How do I add associated media?</h2>First, navigate to the "Associated Media" tab in the authoring mode. You can import new associated
      media (images, audio clips, or videos) by tapping on the "Import" button at the top of the middle column.
      When your media have been imported, you can tap on the "Associate to Artworks" button to associate a particular
      image/audio/video. Associations can also be managed from within the "artwork editor," which can be accessed
      by navigating to the "Artworks" tab, selecting the desired artwork, and tapping "Enter Artwork Editor." Once
      in the artwork editor, the "Add/Remove Media" button will allow you to pick from all available media, and clicking
      on a media thumbnail below the "Add/Remove" button will allow you to edit specific media.
        <h2 id="header_faqvideocompatibility">Some of the videos on my server are not playing in all browsers. What can I do?</h2>We are working on providing a server-side video converter, which should fix cross-browser compatibility
      issues for any videos imported after this feature is in place. In the meantime, we recommend using TX264,
      a free H264 converter which will help optimize your files for web playback while also converting your video
      to a streaming-friendly MP4 file. Just run your video file through TX264 first and then upload as usual via
      TAG.<br><br>TX264 is available&nbsp;<a href="http://sourceforge.net/projects/tx264/" target="_blank">here</a>.<br><br>To run TX264 with the proper settings, you can use the .pdo file&nbsp;<a href="http://cs.brown.edu/research/ptc/tag/tx264Settings.pdo">here</a>, which contains a standard
      configuration for web MP4s. After extracting TX264, place the .pdo file into the PreDefs directory
      inside the TX264 directory and start TX264. From the drop-down menu labeled "Pre-defined", select
      the "standard mp4 format tag" option, and click the arrow button next to the menu to apply the settings.
      To fix quality issues you can increase the video bitrate option to 3000-6000 (higher is better but will
      result in a larger file). 
      If you would prefer not to re-upload your video into TAG, you can run this conversion on the machine
      running your server. To find the relevant video file on your server, search in the TAGServerRepo/Images
      directory. You can then replace the existing file with the converted version.
		<h2 id="header_faqmultiselect">Authoring: An uploaded audio file does not play. What can I do?</h2>As above, make sure that the format and encoding of your audio file 
	  are appropriate for Internet Explorer. Try using an audio converter to convert your file to .mp3 format. Even if your video is already a .mp3 file, it may have been 
	  encoded incorrectly. Using an audio converter should correct the encoding and allow you to upload and play your audio file properly. You can use a free audio converter 
	  provided in the <a href="http://www.mirovideoconverter.com/" target="_blank">Miro Video Converter</a>.
		<h2 id="header_faqmultiselect">Authoring: I am trying to upload an image, but it seems too large for the uploading tool. What can I do?</h2>
	  The uploading tool in TAG converts incoming images to the Microsoft Deep Zoom format and then stores them in the C:\TAGServerRepo directory on whichever 
	  computer is running your instance of the TAG Server. If an image will not upload directly through TAG, you can recreate this process using Microsoft's Deep Zoom 
	  Composer application, which can be downloaed free of charge <a href="http://www.microsoft.com/en-us/download/details.aspx?id=24819" target="_blank">here</a>. After 
	  downloading Deep Zoom Composer, you can open it, create a new "project," and import the artwork you would like to bring into TAG. After you fix the composition to your 
	  liking and export the image, it will be exported to the directory listed in the right pane of the Composer application. Once you locate the output files in the 
	  "GeneratedImages" directory (there will be four entries -- dzc_output_files, dzc_output.xml, scene.xml, and SparseImageSceneGraph.xml -- representing the Deep Zoom image), 
	  copy them into C:\TAGServerRepo (you can create a subdirectory for your image). Now, you will want to use the paths to these files and directories to point TAG to your 
	  artwork. This can be done by first importing a "dummy" artwork into TAG, then using the "Document Manager" button in the TAG Server GUI. If you right-click on the dummy 
	  artwork listed in the Document Manager, you will be given options to edit metadata about the artwork, including the path TAG uses to locate it. You can insert the paths 
	  to your artwork here.
        <h2 id="header_faqmultiselect">Tour authoring: How does Multi-Select work?</h2>Tap the "Multi-Select" button above the track titles. Once it is highlighted, you can select multiple
      green/gray display boxes from as many different tracks as you want. Then you can start moving them
      or changing their start and end points, and they will all move in synch. They may stop moving because
      of other display boxes in the way. To manipulate keyframes, you will have to deselect the multi-selected
      displays by tapping outside a display.
		
	  
      <hr id="nav_hr_features">
      <!-- ---------------------------- FEATURES ------------------------- //--><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
      <!-- side navigation links-->
      <div class="allPages"> 
        <div id="nav_start" class="linkContain"></div>
        <div id="nav_setup" class="linkContain">
          <div class="title">
            <p>Getting set up</p>
            <div class="links">
              <ul class="sections">
                  <li><a dest="#header_win8setup" class="separator_link">Win8/8.1 Setup</a></li>
                  <li><a dest="#header_tagservers" class="separator_link">TAG Servers</a></li>
                  <li><a dest="#header_webappsetup" class="separator_link">Web App Setup</a></li>
                  <li><a dest="#header_serversetup" class="separator_link">TAG Server Setup</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div id="nav_tutorials" class="linkContain">
          <div class="title">
            <p>FAQs</p>
            <div class="links">
              <ul class="sections">
                  <li><a dest="#header_faqcreatingcollections" class="separator_link">Creating Collections</a></li>
                  <li><a dest="#header_faqaddingassocmedia" class="separator_link">Associating Media</a></li>
                  <li><a dest="#header_faqvideocompatibility" class="separator_link">Video Compatibility</a></li>
                  <li><a dest="#header_faqmultiselect" class="separator_link">Multi-Select</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div id="nav_features" class="linkContain">
          <div class="title">
            <p>Planned Features</p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>